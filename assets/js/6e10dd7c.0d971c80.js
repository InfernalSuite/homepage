"use strict";(self.webpackChunkhomepage=self.webpackChunkhomepage||[]).push([[4773],{340:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"migrating","title":"Migrating from older versions","description":"Migrating from ASP 3.0","source":"@site/docs_asp/migrating.md","sourceDirName":".","slug":"/migrating","permalink":"/docs/asp/migrating","draft":false,"unlisted":false,"editUrl":"https://github.com/InfernalSuite/homepage/tree/main/docs_asp/migrating.md","tags":[],"version":"current","sidebarPosition":99,"frontMatter":{"sidebar_position":99},"sidebar":"tutorialSidebar","previous":{"title":"FAQ","permalink":"/docs/asp/faq"}}');var s=i(4848),o=i(8453);const t={sidebar_position:99},a="Migrating from older versions",l={},d=[{value:"Migrating from ASP 3.0",id:"migrating-from-asp-30",level:2},{value:"Migrating the API",id:"migrating-the-api",level:3},{value:"Slime Loaders",id:"slime-loaders",level:4},{value:"Events",id:"events",level:4},{value:"Exceptions",id:"exceptions",level:4},{value:"Migrating from SWM",id:"migrating-from-swm",level:2},{value:"Migrating the API",id:"migrating-the-api-1",level:3},{value:"What does this mean for me?",id:"what-does-this-mean-for-me",level:4}];function h(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"migrating-from-older-versions",children:"Migrating from older versions"})}),"\n",(0,s.jsx)(n.h2,{id:"migrating-from-asp-30",children:"Migrating from ASP 3.0"}),"\n",(0,s.jsx)(n.p,{children:"With the release of version 4.0, we've introduced a series of small changes aimed at optimizing and enhancing the API. Server owners will only need to update their server jar and the ASP plugin, while plugin developers will need to make a few adjustments in their code."}),"\n",(0,s.jsx)(n.h3,{id:"migrating-the-api",children:"Migrating the API"}),"\n",(0,s.jsxs)(n.p,{children:["The most impactful change between previous versions is the package name change from ",(0,s.jsx)(n.code,{children:"com.infernalsuite.aswm.api"})," to ",(0,s.jsx)(n.code,{children:"com.infernalsuite.asp.api"}),". This means that you will have to update your imports."]}),"\n",(0,s.jsxs)(n.p,{children:["Additionally, the NBT library has been switched from FlowNBT to Kyori NBT. As a result, you can remove the repository ",(0,s.jsx)(n.code,{children:"https://repo.rapture.pw/repository/maven-releases/"})," unless\nyou still need it for something else. If you're not using any additional Slime API methods or accessing extra data, there should be no changes needed.\nHowever, if you do, you'll need to adapt to the new Kyori NBT library. It's worth noting that Kyori NBT is immutable, so when you modify data (e.g. extra data), you'll need to update your code accordingly."]}),"\n",(0,s.jsxs)(n.p,{children:["Another change is in how you get the Bukkit world. Instead of using ",(0,s.jsx)(n.code,{children:"Bukkit#getWorld(String)"}),", you can now obtain the world through the ",(0,s.jsx)(n.code,{children:"SlimeWorldInstance"})," now returned when calling ",(0,s.jsx)(n.code,{children:"AdvancedSlimePaperAPI#loadWorld(SlimeWorld, boolean)"}),", using the method ",(0,s.jsx)(n.code,{children:"SlimeWorldInstance#getBukkitWorld()"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"slime-loaders",children:"Slime Loaders"}),"\n",(0,s.jsx)(n.p,{children:"Slime Loaders have been separated into different maven packages, so you can choose what loaders you want to bundle with your plugin:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"com.infernalsuite.asp:loaders"})," - Contains a BOM package of all default loaders, like previously"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"com.infernalsuite.asp:api-loader"})," - The HTTP api loader"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"com.infernalsuite.asp:file-loader"})," - The file loader"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"com.infernalsuite.asp:mysql-loader"})," - The MySQL loader"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"com.infernalsuite.asp:redis-loader"})," - The Redis loader"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"com.infernalsuite.asp:mongo-loader"})," - The MongoDB loader"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Custom loaders implementing the ",(0,s.jsx)(n.code,{children:"UpdatableLoader"})," class no longer have to import the loaders package, as it is now implemented in the API itself. The ",(0,s.jsx)(n.code,{children:"NewerDatabaseException"})," of the updatable loader has also been changed to ",(0,s.jsx)(n.code,{children:"NewerStorageException"})," and its field ",(0,s.jsx)(n.code,{children:"currentVersion"})," is now ",(0,s.jsx)(n.code,{children:"implementationVersion"})," and ",(0,s.jsx)(n.code,{children:"databaseVersion"})," is now ",(0,s.jsx)(n.code,{children:"storageVersion"})," so its wording applies to more than just databases."]}),"\n",(0,s.jsx)(n.h4,{id:"events",children:"Events"}),"\n",(0,s.jsx)(n.p,{children:"In API 3.0 there were also a few events that were never actually called, so they have been removed:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AsyncPostCreateEmptyWorldEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AsyncPostGetWorldEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AsyncPostImportWorldEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AsyncPostLoadWorldEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AsyncPostMigrateWorldEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AsyncPreCreateEmptyWorldEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AsyncPreGetWorldEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AsyncPreImportWorldEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AsyncPreLoadWorldEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"PreGenerateWorldEvent"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"exceptions",children:"Exceptions"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"InvalidVersionException"})," exception has been removed, as it was never thrown."]}),"\n",(0,s.jsx)(n.h2,{id:"migrating-from-swm",children:"Migrating from SWM"}),"\n",(0,s.jsx)(n.p,{children:"Since version 1.21.0, the plugin (formerly SlimeWorldManager) has been decoupled from the server (ASP) and is now known as the Slime World Plugin (SWP)."}),"\n",(0,s.jsxs)(n.p,{children:["This means, that now the plugin is no longer required to use the API, as the API is provided by the server itself.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsxs)(n.strong,{children:["If you want to keep the commands and features that the plugin provided, you can install the ",(0,s.jsx)(n.a,{href:"swp/installation",children:"Slime World Plugin"})," on your server."]})]}),"\n",(0,s.jsx)(n.h3,{id:"migrating-the-api-1",children:"Migrating the API"}),"\n",(0,s.jsxs)(n.p,{children:["The API has undergone rework and the main API class has been renamed from ",(0,s.jsx)(n.code,{children:"SlimePlugin"})," to ",(0,s.jsx)(n.code,{children:"AdvancedSlimePaperAPI"}),".\nPlease note that ",(0,s.jsx)(n.strong,{children:"the locking system has been removed"}),", you now have to handle locking the worlds yourself."]}),"\n",(0,s.jsx)(n.h4,{id:"what-does-this-mean-for-me",children:"What does this mean for me?"}),"\n",(0,s.jsxs)(n.p,{children:["If you were using the SWM API before, you will probably have to change most of the parts of your code that interact with the API.\nI suggest you ",(0,s.jsxs)(n.strong,{children:["take a look at the ",(0,s.jsx)(n.a,{href:"/docs/asp/api/using",children:"Using the API"})," page"]})," to see how you can use the new API.",(0,s.jsx)(n.br,{}),"\n","Pay close attention to the javadocs in the ",(0,s.jsx)(n.code,{children:"AdvancedSlimePaperAPI"})," class, as it can help you to understand the differences between the old and the new API."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["If you have any questions, feel free to ask in the ",(0,s.jsx)(n.a,{href:"https://discord.infernalsuite.com/",children:"Discord"}),"."]})})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var r=i(6540);const s={},o=r.createContext(s);function t(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);